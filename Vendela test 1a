import numpy as np
import matplotlib.pyplot as plt

p = 1000 * 9.81 # Tryckkonstanten
y = np.array([0, 2, 4, 6, 8, 10, 12])
w = np.array([10.00, 11.18, 12.18, 12.20, 13.00, 13.50, 14.00])
H = 12.0

f = (H - y) * w
h = 2

def trapets(f, h):
        return h * ( 0.5*f[0] + f[1:-1].sum() +  0.5 * f[-1] )

T_h  = trapets(f, h)
T_2h = trapets(f[::2], 2*h)
E_T = (T_h - T_2h) / 3.0

F   = p * T_h
E_F = p * E_T
print(f'Den resulterande kraften är = {F} N')
print(f"Diskretiseringsfelet = {E_F:.5f} N")

plt.figure(figsize=(8,5))
plt.plot(y, f, marker = 'o', label = "f(y) = (H-y) * w(y)")
plt.xlabel("y [m]")
plt.ylabel("f(y) [N/m]")
plt.title("Integranden för dammkraften")
plt.legend()
plt.grid(True)
plt.show()
